---
description: Testing strategy
globs:
  - "tests/**/*.py"
alwaysApply: false
---

- **All test files MUST be created in the `tests/` folder**. Never create test files in the root directory or other locations.
- Unit: pure pipeline funcs with tiny fixtures; property-based where useful.
- Integration: spin Postgres/MinIO; assert schema, indexes, hypertables, vector queries.
- Snapshot backtest metrics JSON within numeric tolerances.
- Keep tests fast; mark slow tests.
